Estrutura Detalhada do Projeto MVC para GestÃ£o de Obras Civis com PersistÃªncia em .txt

ğŸ“ Estrutura de Pastas
/gestao_obras_civis
â”‚
â”œâ”€â”€ /src
â”‚   â”œâ”€â”€ /model          (Camada Model - DomÃ­nio)
â”‚   â”‚   â”œâ”€â”€ Obra.java
â”‚   â”‚   â”œâ”€â”€ Engenheiro.java
â”‚   â”‚   â””â”€â”€ Material.java
â”‚   â”‚
â”‚   â”œâ”€â”€ /view          (Camada View - Interface)
â”‚   â”‚   â”œâ”€â”€ ObraView.java
â”‚   â”‚   â”œâ”€â”€ EngenheiroView.java
â”‚   â”‚   â””â”€â”€ RelatorioView.java
â”‚   â”‚
â”‚   â”œâ”€â”€ /controller    (Camada Controller - LÃ³gica)
â”‚   â”‚   â”œâ”€â”€ ObraController.java
â”‚   â”‚   â”œâ”€â”€ EngenheiroController.java
â”‚   â”‚   â””â”€â”€ MaterialController.java
â”‚   â”‚
â”‚   â”œâ”€â”€ /persistence   (Camada de PersistÃªncia)
â”‚   â”‚   â”œâ”€â”€ ObraRepository.java
â”‚   â”‚   â”œâ”€â”€ EngenheiroRepository.java
â”‚   â”‚   â””â”€â”€ MaterialRepository.java
â”‚   â”‚
â”‚   â””â”€â”€ /main
â”‚       â”œâ”€â”€ App.java    (Classe principal)
â”‚       â””â”€â”€ Menu.java   (Gerenciamento do fluxo)
â”‚
â”œâ”€â”€ /data              (Armazenamento em .txt)
â”‚   â”œâ”€â”€ obras.txt
â”‚   â”œâ”€â”€ engenheiros.txt
â”‚   â””â”€â”€ materiais.txt
â”‚
â””â”€â”€ README.md          (DocumentaÃ§Ã£o)
ğŸ—ï¸ Camadas do MVC e Responsabilidades
1. Camada Model (DomÃ­nio)
LocalizaÃ§Ã£o: /src/model

Classes:

Obra.java

Atributos: codigo, nome, localizacao, orcamento, status, etapas, engenheirosAlocados, materiaisUtilizados

MÃ©todos: Getters/setters, validaÃ§Ã£o de etapas (validarEtapa())

Engenheiro.java

Atributos: registroCREA, nome, especialidade, obrasAssociadas

MÃ©todos: ValidaÃ§Ã£o de CREA (validarCREA())

Material.java

Atributos: codigo, nome, quantidade, unidadeMedida

MÃ©todos: CÃ¡lculo de custo (calcularCusto())

2. Camada View (Interface)
LocalizaÃ§Ã£o: /src/view

Classes:

ObraView.java

MÃ©todos:

exibirDetalhesObra(Obra obra): Formata saÃ­da com alinhamento tabular

mostrarListaObras(List<Obra>): Exibe tabela com cÃ³digo, nome e status

RelatorioView.java

MÃ©todos:

gerarRelatorioTxt(Obra obra): Cria arquivo resumo_[CODIGO].txt

exibirAlertas(List<Obra> obrasAtrasadas): Destaca obras com status "ExecuÃ§Ã£o" > 6 meses

3. Camada Controller (LÃ³gica)
LocalizaÃ§Ã£o: /src/controller

Classes:

ObraController.java

MÃ©todos:

cadastrarObra(Obra obra): Valida orÃ§amento > 0 e etapas nÃ£o vazias

atualizarStatus(String codigo, String novoStatus): Bloqueia mudanÃ§a sem engenheiro

adicionarEtapa(String codigo, String etapa): Verifica ordem prÃ©-definida

EngenheiroController.java

MÃ©todos:

alocarEngenheiro(String crea, String codigoObra): Impede alocaÃ§Ã£o duplicada

validarEspecialidade(String especialidade): Checa se Ã© "Estrutural", "HidrÃ¡ulica", etc.

4. Camada de PersistÃªncia
LocalizaÃ§Ã£o: /src/persistence

Classes:

ObraRepository.java

MÃ©todos:

salvarEmArquivo(List<Obra>): Escreve em data/obras.txt no formato:

CODIGO;NOME;LOCAL;ORCAMENTO;STATUS;ETAPAS;ENGENHEIROS;MATERIAIS
OBRA-001;Ponte ABC;Rio X;1500000.00;ExecuÃ§Ã£o;Fundacao,Estrutura;CREA-123,CREA-456;CONC-500,AÃ‡O-200
carregarDados(): LÃª o arquivo e reconstrÃ³i objetos Obra

MaterialRepository.java

Implementa checagem de estoque ao salvar em data/materiais.txt

5. Camada Main (AplicaÃ§Ã£o)
LocalizaÃ§Ã£o: /src/main

Classes:

App.java

Inicializa o sistema:

Carrega dados dos arquivos .txt

Inicia Menu.java

Menu.java

Fluxo interativo:

java
while (true) {
    exibirOpcoes(); // 1-Cadastrar obra, 2-RelatÃ³rios, etc.
    int opcao = scanner.nextInt();
    switch (opcao) {
        case 1: ObraController.cadastrar(); break;
        case 5: salvarDados(); System.exit(0);
    }
}
ğŸ”„ Fluxo de Dados TÃ­pico
UsuÃ¡rio seleciona "Cadastrar Obra" no Menu

ObraController valida os dados

ObraRepository persiste no arquivo obras.txt

ObraView exibe confirmaÃ§Ã£o ao usuÃ¡rio

âœ… CritÃ©rios de Qualidade
SeparaÃ§Ã£o Clara:

Model nÃ£o acessa View

Controller nÃ£o contÃ©m lÃ³gica de persistÃªncia direta

Acoplamento MÃ­nimo:

RepositÃ³rios sÃ³ lidam com arquivos

Views sÃ³ formatam saÃ­da

Extensibilidade:

Para migrar para banco de dados, basta modificar os repositÃ³rios

DocumentaÃ§Ã£o:

Cada mÃ©todo tem comentÃ¡rio JavaDoc explicando regras (ex.: @throws IllegalArgumentException se CREA for invÃ¡lido)